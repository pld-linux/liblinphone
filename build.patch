--- liblinphone-5.4.17/console/linphonec.c~	2025-05-15 12:10:44.000000000 +0200
+++ liblinphone-5.4.17/console/linphonec.c	2025-08-02 15:20:09.706125475 +0200
@@ -105,7 +105,10 @@ static char **linephonec_readline_comple
 
 /* These are callback for linphone core */
 static void linphonec_prompt_for_auth(LinphoneCore *lc, const char *realm, const char *username, const char *domain);
-static void linphonec_display_refer(LinphoneCore *lc, const char *refer_to);
+static void linphonec_display_refer(LinphoneCore *lc,
+		const LinphoneAddress *refer_to,
+		const LinphoneHeaders *headers,
+		const LinphoneContent *content);
 static void linphonec_transfer_state_changed(LinphoneCore *lc, LinphoneCall *call, LinphoneCallState new_call_state);
 
 static void linphonec_notify_presence_received(LinphoneCore *lc, LinphoneFriend *fid);
@@ -188,8 +191,13 @@ LinphoneCall *linphonec_get_call(int id)
 /*
  * Linphone core callback
  */
-static void linphonec_display_refer(BCTBX_UNUSED(LinphoneCore *lc), const char *refer_to) {
-	linphonec_out("Receiving out of call refer to %s\n", refer_to);
+static void linphonec_display_refer(BCTBX_UNUSED(LinphoneCore *lc),
+		const LinphoneAddress *refer_to,
+		const LinphoneHeaders *headers,
+		const LinphoneContent *content) {
+	char *uri = linphone_address_as_string(refer_to);
+	linphonec_out("Receiving out of call refer to %s\n", uri);
+	ms_free(uri);
 }
 
 /*
